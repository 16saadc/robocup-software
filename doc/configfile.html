<html>

<head>
<link rel="stylesheet" type="text/css" href="style.css">
<title>RoboJackets - RoboCup Motion:ConfigFile Class</title> <!-- fixme: doc title-->
</head>

<body>
<h1>RoboJackets - RoboCup</h1>
<h2>ConfigFile</h2>

<p>
ConfigFile is the class responsible for processing configfiles passed in to motion. 
Config files need only be read in once with the load() function and the relevant parameters
can be access with robotcfg which returns a RobotCfg struct.
</p>
<h3>Member Functions</h3>
<h4>Public</h4>
<dl>

<dt> ConfigFile(QString filename) </dt>
<dd> Default constructor. Takes in a QString object</dd>

<dt> void load() throw(std::runtime_error) </dt>
<dd> Checks that the file is correctly formated and processes each tag. Currently only 
     the &lt;pid&gt; and &lt;axels&gt; tags are handled. Additional tags could be added later.  
</dd>

<br>

<dt> void save() </dt>
<dd> Not implemented </dd> <!-- FIXME need to actually check that one... -->

<br>

<dt>RobotCfg ConfigFile::robotConfig(const unsigned int id)</dt>
<dd> Returns the robot configuration from the config file</dd>

<br>

<dt>const QVector<Geometry::Point2d> axels() const { return _axels; }</dt>
<dd> Returns the the number of axels</dd>
</dl>

<h4>Protected</h4>
<dl>
<dt> void procPID(QDomElement element) </dt>
<dd> Is called by load and processes the pid tag. It determines if the PID parameters are
     for the position or the angle PID loops then stores them in a PIDinfo struct
</dd>

<br>

<dt> ConfigFile::procAxels(QDomElement element) </dt>
<dd> Is called by load and processes the axels tag. There are four points that define the locations 
     of the axels relative to the robot's center in team space
</dd>

<br>

<dt>float ConfigFile::valueFloat(QDomAttr attr)</dt>
<dd> Retreives floats from element attributes <!-- FIXME again need to back this up -->
</dd>

<br>

<dt>int ConfigFile::valueUInt(QDomAttr attr)</dt>
<dd> Retreives unsigned ints from element attributes <!-- FIXME again need to back this up -->
</dd>

</dl>

<h3>Data Members</h3>
<h4>Public</h4>

<dl>
<dt> Struct PidInfo </dt>
<dd>
<br> 
	<dl>
		<dt> float p,i,d </dt>
		<dd> Gains for the proportional, integral, and derivative terms	</dd>	
		<br>
		<dt> unsigned int windup  </dt>
		<dd> Length of windup window </dd>
	</dl>
<br>
</dd>
<dt> Struct RobotCfg </dt>
<dd> 
<br>
	<dl>
		<dt> unsigned int id</dt>
		<dd> Robot ID 0-4 </dd>
		<br>	
		<dt> PidInfo posPid, anglePid  </dt>
		<dd> PidInfo for the position and angle PIDs </dd>
		<br>
		<dt> QVector&lt;Geometry::Point2d&gt; axels  </dt>
		<dd> Vectors describing the axel geometry </dd>
	</dl>
<br>
</dd>
</dl>

<h4>Private</h4>

<dl>
<dt>QString _filename </dt>
<dd> </dd>
<dt>QDomDocument _doc </dt>
<dd> </dd>
<dt>PidInfo _pos, _angle </dt>
<dd> </dd>
<dt>QVector&lt;Geometry::Point2d&gt; _axels</dt>
<dd> </dd>

</dl>

</body>
</html>
