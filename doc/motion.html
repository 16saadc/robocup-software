<html>

<head>
<link rel="stylesheet" type="text/css" href="style.css">
<title>RoboJackets - RoboCup:Motion</title> <!-- fixme: doc title-->
</head>

<body>
<h1>RoboJackets - RoboCup</h1>
<h2>Motion</h2>
<p>
Motion's purpose is the provide the lowest level software control of a robot's 
position and orientation for a particular team. This also includes path planning 
from source to destination and the appropriate rules following for gameplay states.
</p>
<p>
Motion has no concept of any particular state from one command to the next. All 
it knows and uses are the current dynamics of the robot and field and the requested 
destination position and orientation. An optional style flag can be set to indicate 
the preferred style of travel (fast or accurate). Beyond these things, any other 
process has no influence over motion.
</p>

<h3>Config</h3>

<p>
At run-time Motion reads in an xml configfile passed to via the command line. This config 
file has the PID parameters for the position and angle PID loops and for the orientation
of the axels of the robot. The later is included to make it possible to configure motion
for the 2008 or the 2009 robots. Below is an example of a config file.
</p>

<blockquote>

<PRE>
&lt;!-- Motion XML File --&gt
&lt;motion&gt;
	&lt;pid name="(PID Type)"&gt;
		&lt;p value=... /&gt;
		&lt;i value=... /&gt;
		&lt;d value=".." /&gt;
		&lt;windup value="..." /&gt;
	&lt;/pid&gt;

	&lt;axels&gt;
		&lt;axel x="..." y="..." /&gt;
		...
	&lt;/axels&gt;
&lt;/motion&gt;
</PRE>
</blockquote>

<p>
The config files are located in a folder called config in the Motion folder. The class ConfigFile 
is what actually parses the XML file. Please see <a href="configfile.html">ConfigFile</a> for more informaiton.

</p>

<h3>Path Planner</h3>
<p>
The link between actual robot motion control (PID loops and such) and the path 
planner is through an abstract Path Planner interface. Any particular path planner 
can be used/tried as long as its output is of the required form. The path planner 
interface also provides motion with a way to setup basic avoidance zones. This is 
how motion gives cues to the path planner about which areas of the field to avoid 
during certain game states, and follow the rules.
</p>
<p>
The Path Planner must output two things:
<ul>
<li>distance remaining <strong>along</strong> the path (in standard units)</li>
<li>direction to travel (2d unit vector in team space)</li>
</ul>
</p>
<p>
This information is then used by motion in the control loops to create motor speeds 
and move the robot. A distance remaining of 0 will cause no motion to occur and 
will bring the robot to a hault. A direction of &lt;0,0&gt; will also have the same 
effect reguardless of distance remaining.
</p>
<h4>Interface (from PathPlanner.hpp)</h4>
<dl>
<dt>PPOut</dt><dd>data structure for the Path Planner output.</dd>
<dt>plan</dt><dd>Method called by motion to plan a path. Returns <em>PPOut</em>.
 And takes in a robot ID, a destination, and a style of travel.</dd>
</dl>
<p>
Motion will call plan for each robot and provide a destination. The path planner 
then plans the path and return the expected output. Motion will then use that 
information to control the robot. Any path planner that adheres to this interface 
can be used.

<p><center><small>A good path planning reference: 
<a href="http://planning.cs.uiuc.edu/">http://planning.cs.uiuc.edu/</a></small></center></p>

<h3>SPP - Simple Path Planner</h3>
This is the path planner currently being used by the system.
<strong>** TODO: document **</strong>

<h3>Classes/Files</h3>
<dl>
<dt><a href="motion_main.html">main.cpp</a></dt><dd>The main file for the executable. Handles cmd line arguments.</dd>
<dt><a href="motioncontroller.html">MotionController</a></dt><dd>The main Motion class</dd>
<dt><a href="pathplanner.html">PathPlanner</a></dt><dd>Path Planner interface class. All path planners must be derived from this class</dd>
<dt><a href="PID.html">PID</a></dt><dd>PID controller implementation</dd>
<dt><a href="robot.html">Robot</a></dt><dd>Motion's implemenation of a robot</dd>
<dt><a href="simplepathplanner.html">SimplePathPlanner</a></dt><dd>Simple Path Planner</dd>
<dt><a href="configfile.html">ConfigFile</a></dt><dd>Parses the XML config file</dd>
</dl>
</body>
</html>
